<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Currency Clicker</title>
  <style>
    #main-square {
      width: 320px;
      height: 320px;
      background: #f3f3f3;
      border: 2px solid #ccc;
      border-radius: 20px;
      margin: 40px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      box-shadow: 0 2px 12px #0002;
      position: relative;
    }
    #currency-counter {
      font-size: 0.9rem;     /* Smaller text */
      margin-top: 70px;      /* Lower down in the square */
      color: #222;
      font-weight: bold;
      text-align: center;
    }
    .game-btn {
      margin: 20px 0;
      padding: 14px 32px;
      font-size: 1.1rem;
      border-radius: 8px;
      border: none;
      background: #4caf50;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 1px 4px #0001;
    }
  </style>
</head>
<body>
  <div id="main-square">
    <div id="currency-counter">Currency: 0.00</div>
    <button id="main-btn" class="game-btn">+1</button>
    <button id="double-btn" class="game-btn">2x (10)</button>
    <button id="rebirth-btn" class="game-btn">Rebirth (50)</button>
    <button id="luck-btn" class="game-btn">Luck (500)</button>
    <div id="perm-multiplier"></div>
    <div id="luck-cost"></div>
    <div id="msg" style="color:red;"></div>
  </div>

  <audio id="main-sound" src="main.mp3"></audio>
  <audio id="double-sound" src="double.mp3"></audio>
  <audio id="rebirth-sound" src="rebirth.mp3"></audio>
  <audio id="luck-sound" src="luck.mp3"></audio>

  <script>
    let currency = 0;
    let permMultiplier = 1;
    let mainBtnBase = 1;
    let mainBtnMultiplier = 1;
    let doubleBtnCost = 10;
    let rebirthBtnCost = 50;
    let rebirths = 0;
    let luckBtnCost = 500;

    const mainSound = document.getElementById('main-sound');
    const doubleSound = document.getElementById('double-sound');
    const rebirthSound = document.getElementById('rebirth-sound');
    const luckSound = document.getElementById('luck-sound');

    const counter = document.getElementById('currency-counter');
    const permMult = document.getElementById('perm-multiplier');
    const msg = document.getElementById('msg');
    const mainBtn = document.getElementById('main-btn');
    const doubleBtn = document.getElementById('double-btn');
    const rebirthBtn = document.getElementById('rebirth-btn');
    const luckBtn = document.getElementById('luck-btn');
    const luckCost = document.getElementById('luck-cost');

    function updateCounter() {
      counter.textContent = 'Currency: ' + currency.toFixed(2);
      mainBtn.textContent = `+${(mainBtnBase * mainBtnMultiplier * permMultiplier).toFixed(2)}`;
      doubleBtn.textContent = `2x (${doubleBtnCost})`;
      rebirthBtn.textContent = `Rebirth (${rebirthBtnCost})`;
      permMult.textContent = `Perm x${permMultiplier.toFixed(2)}`;
      luckCost.textContent = luckBtnCost;
    }

    mainBtn.addEventListener('click', function() {
      currency += mainBtnBase * mainBtnMultiplier * permMultiplier;
      currency = Math.round(currency * 100) / 100;
      updateCounter();
      msg.textContent = "";
      mainSound.currentTime = 0;
      mainSound.play();
    });

    doubleBtn.addEventListener('click', function() {
      if (currency >= doubleBtnCost) {
        currency -= doubleBtnCost;
        mainBtnMultiplier *= 2;
        doubleBtnCost += 10;
        updateCounter();
        msg.textContent = "";
        doubleSound.currentTime = 0;
        doubleSound.play();
      } else {
        msg.textContent = "Not enough currency!";
      }
    });

    rebirthBtn.addEventListener('click', function() {
      if (currency >= rebirthBtnCost) {
        currency -= rebirthBtnCost;
        rebirthBtnCost += 50;
        rebirths += 1;
        mainBtnBase = 1 + rebirths * 0.2;
        mainBtnMultiplier = 1;
        doubleBtnCost = 10;
        currency = 0;
        updateCounter();
        msg.textContent = `Rebirth complete! New base: +${mainBtnBase.toFixed(2)} per click. Currency reset!`;
        rebirthSound.currentTime = 0;
        rebirthSound.play();
      } else {
        msg.textContent = "Not enough currency for rebirth!";
      }
    });

    luckBtn.addEventListener('click', function() {
      if (currency >= luckBtnCost) {
        currency -= luckBtnCost;
        luckBtnCost += 500;
        updateCounter();
        luckSound.currentTime = 0;
        luckSound.play();
        msg.textContent = "Luck used!";
      } else {
        msg.textContent = "Not enough currency for luck!";
      }
    });

    // Initialize
    updateCounter();
  </script>
</body>
</html>